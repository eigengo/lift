cassandra:
  image: spotify/cassandra
  expose:
    - "7199"
    - "7000" 
    - "7001" 
    - "9160" 
    - "9042" 
    - "22" 
    - "8012" 
    - "61621"
etcd:
  image: coreos/etcd
  expose:
    - "4001"
  ports:
    - "7001:7001"
profile:
  image: com.eigengo/lift-profile
  ports:
    - "8080"
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  links:
    - cassandra:journal.lift.eigengo.com
    - cassandra:snapshot.lift.eigengo.com
    - etcd:etcd.lift.eigengo.com
profile2:
  image: com.eigengo/lift-profile
  ports:
    - "8080"
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  links:
    - cassandra:journal.lift.eigengo.com
    - cassandra:snapshot.lift.eigengo.com
    - etcd:etcd.lift.eigengo.com
notification:
  image: com.eigengo/lift-notification
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  links:
    - cassandra:journal.lift.eigengo.com
    - cassandra:snapshot.lift.eigengo.com
    - etcd:etcd.lift.eigengo.com
    - profile
    - profile2
exercise:
  image: com.eigengo/lift-exercise
  ports:
    # - "8082:8080"
    - "8080"
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock
  links:
    - cassandra:journal.lift.eigengo.com
    - cassandra:snapshot.lift.eigengo.com
    - etcd:etcd.lift.eigengo.com
    - profile
    - profile2
    - notification
